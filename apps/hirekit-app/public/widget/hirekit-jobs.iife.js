var __defProp=Object.defineProperty,__defNormalProp=(t,e,a)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,__publicField=(t,e,a)=>__defNormalProp(t,"symbol"!=typeof e?e+"":e,a);!function(){"use strict";function t(){return window.__HIREKIT_API_URL__||"https://app.hirekit.io/api"}function e(t,e){const a=new Set;for(const r of t){const t=r[e];"string"==typeof t&&t&&a.add(t)}return Array.from(a).sort()}function a(t,e,a,r){const o=document.createElement("select");o.className="hk-select";const i=document.createElement("option");i.value="",i.textContent=t,o.appendChild(i);for(const n of e){const t=document.createElement("option");t.value=n,t.textContent=n,n===a&&(t.selected=!0),o.appendChild(t)}return o.addEventListener("change",()=>r(o.value)),o}function r(t){const e=Date.now()-new Date(t).getTime(),a=Math.floor(e/864e5);if(0===a)return"Today";if(1===a)return"1 day ago";if(a<30)return`${a} days ago`;const r=Math.floor(a/30);return 1===r?"1 month ago":`${r} months ago`}function o(t,e,a,o){const i=document.createElement("div");i.className="list"===e?"hk-card hk-card--list":"hk-card";const n=function(t){if(!t.salaryMin&&!t.salaryMax)return null;const e=t.salaryCurrency||"EUR",a=t=>new Intl.NumberFormat("en",{style:"currency",currency:e,maximumFractionDigits:0}).format(t);return t.salaryMin&&t.salaryMax?`${a(t.salaryMin)} ‚Äì ${a(t.salaryMax)}`:t.salaryMin?`From ${a(t.salaryMin)}`:`Up to ${a(t.salaryMax)}`}(t),s=[];t.department&&s.push(t.department),t.location&&s.push(`üìç ${t.location}`),t.type&&s.push(t.type);const d=s.map(t=>`<span class="hk-badge">${t}</span>`).join("");return i.innerHTML="list"===e?`\n      <div class="hk-card-body">\n        <div class="hk-card-title">${t.title}</div>\n        <div class="hk-card-meta">${d}</div>\n        ${n?`<div class="hk-card-salary">${n}</div>`:""}\n      </div>\n      <div class="hk-card-actions">\n        <span class="hk-card-date">${r(t.createdAt)}</span>\n        <button class="hk-btn hk-btn-primary hk-apply-btn" style="margin-left:12px">Apply</button>\n      </div>\n    `:`\n      <div class="hk-card-title">${t.title}</div>\n      <div class="hk-card-meta">${d}</div>\n      ${n?`<div class="hk-card-salary">${n}</div>`:""}\n      <div class="hk-card-footer">\n        <span class="hk-card-date">${r(t.createdAt)}</span>\n        <button class="hk-btn hk-btn-primary hk-apply-btn">Apply</button>\n      </div>\n    `,i.addEventListener("click",e=>{e.target.closest(".hk-apply-btn")?(e.stopPropagation(),o(t)):a(t)}),i}function i(t,e,a){const r=document.createElement("div");r.className="hk-detail";const o=function(t){if(!t.salaryMin&&!t.salaryMax)return null;const e=t.salaryCurrency||"EUR",a=t=>new Intl.NumberFormat("en",{style:"currency",currency:e,maximumFractionDigits:0}).format(t);return t.salaryMin&&t.salaryMax?`${a(t.salaryMin)} ‚Äì ${a(t.salaryMax)}`:t.salaryMin?`From ${a(t.salaryMin)}`:`Up to ${a(t.salaryMax)}`}(t),i=[];t.department&&i.push(t.department),t.location&&i.push(`üìç ${t.location}`),t.type&&i.push(t.type);const n=i.map(t=>`<span class="hk-badge">${t}</span>`).join("");return r.innerHTML=`\n    <button class="hk-detail-back">‚Üê Back to all jobs</button>\n    <div class="hk-detail-title">${t.title}</div>\n    <div class="hk-detail-meta">${n}</div>\n    ${o?`<div class="hk-detail-salary">${o}</div>`:""}\n    ${t.description?`<div class="hk-detail-description">${t.description}</div>`:""}\n    <div class="hk-detail-apply">\n      <button class="hk-btn hk-btn-primary hk-detail-apply-btn">Apply for this position</button>\n    </div>\n  `,r.querySelector(".hk-detail-back").addEventListener("click",e),r.querySelector(".hk-detail-apply-btn").addEventListener("click",()=>a(t)),r}function n(e,a,r){const o=document.createElement("div");o.className="hk-modal-overlay",o.innerHTML=`\n    <div class="hk-modal">\n      <div class="hk-modal-header">\n        <span class="hk-modal-title">Apply ‚Äî ${e.title}</span>\n        <button class="hk-modal-close">‚úï</button>\n      </div>\n      <div class="hk-modal-body">\n        <div class="hk-modal-loading">Loading application form...</div>\n      </div>\n    </div>\n  `;const i=()=>{o.remove()};o.querySelector(".hk-modal-close").addEventListener("click",i),o.addEventListener("click",t=>{t.target===o&&i()}),r.appendChild(o);!async function(e,a,r){const o=t();if(window.HireKit)return void s(e,a,r);const i=document.querySelector('script[src*="hirekit-widget"]'),n=i?.src||`${o.replace("/api","")}/widget/hirekit-widget.iife.js`;try{const t=document.createElement("script");t.src=n,t.async=!0,t.onload=()=>{s(e,a,r)},t.onerror=()=>{e.innerHTML='<div class="hk-error">Failed to load application form. Please try again later.</div>'},document.head.appendChild(t)}catch{e.innerHTML='<div class="hk-error">Failed to load application form. Please try again later.</div>'}}(o.querySelector(".hk-modal-body"),a,e.id)}function s(t,e,a){t.innerHTML="";const r=document.createElement("div");r.id="hirekit-widget-modal-"+a,t.appendChild(r),window.HireKit.init({companyId:e,jobId:a,container:r})}class d{constructor(){__publicField(this,"shadowRoot",null),__publicField(this,"root",null),__publicField(this,"config",null),__publicField(this,"state",{jobs:[],filteredJobs:[],company:null,filters:{search:"",department:"",location:"",type:""},view:"list",selectedJob:null,loading:!0,error:null})}async init(e){this.config=e;const a=document.getElementById(e.containerId||"hirekit-jobs");if(!a)return;this.shadowRoot=a.attachShadow({mode:"open"});const r=new CSSStyleSheet;r.replaceSync(":host{--hk-primary: #4F46E5;--hk-primary-hover: #4338CA;--hk-bg: #F8FAFC;--hk-surface: #FFFFFF;--hk-border: #E2E8F0;--hk-text: #1E293B;--hk-text-secondary: #64748B;--hk-text-muted: #94A3B8;--hk-badge-bg: #EEF2FF;--hk-badge-text: #4F46E5;--hk-shadow: 0 1px 3px rgba(0,0,0,.08);--hk-shadow-lg: 0 4px 12px rgba(0,0,0,.1);--hk-radius: 12px;--hk-radius-sm: 8px;--hk-font: Inter, system-ui, -apple-system, sans-serif}:host(.hk-dark){--hk-bg: #0F172A;--hk-surface: #1E293B;--hk-border: #334155;--hk-text: #F1F5F9;--hk-text-secondary: #94A3B8;--hk-text-muted: #64748B;--hk-badge-bg: #312E81;--hk-badge-text: #A5B4FC;--hk-shadow: 0 1px 3px rgba(0,0,0,.3);--hk-shadow-lg: 0 4px 12px rgba(0,0,0,.4)}.hk-jobs-root{font-family:var(--hk-font);color:var(--hk-text);background:var(--hk-bg);line-height:1.5;-webkit-font-smoothing:antialiased;padding:24px}.hk-jobs-root *,.hk-jobs-root *:before,.hk-jobs-root *:after{box-sizing:border-box;margin:0;padding:0}.hk-header{display:flex;align-items:center;gap:12px;margin-bottom:24px}.hk-header-logo{width:40px;height:40px;border-radius:var(--hk-radius-sm);-o-object-fit:contain;object-fit:contain}.hk-header-title{font-size:20px;font-weight:700;color:var(--hk-text)}.hk-header-count{font-size:14px;color:var(--hk-text-secondary);margin-left:auto}.hk-filters{display:flex;gap:12px;margin-bottom:24px;flex-wrap:wrap}.hk-search{flex:1;min-width:200px;padding:10px 14px;border:1px solid var(--hk-border);border-radius:var(--hk-radius-sm);background:var(--hk-surface);color:var(--hk-text);font-size:14px;font-family:var(--hk-font);outline:none;transition:border-color .2s}.hk-search:focus{border-color:var(--hk-primary)}.hk-search::-moz-placeholder{color:var(--hk-text-muted)}.hk-search::placeholder{color:var(--hk-text-muted)}.hk-select{padding:10px 32px 10px 14px;border:1px solid var(--hk-border);border-radius:var(--hk-radius-sm);background:var(--hk-surface);color:var(--hk-text);font-size:14px;font-family:var(--hk-font);outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2364748B' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:right 10px center;cursor:pointer;transition:border-color .2s}.hk-select:focus{border-color:var(--hk-primary)}.hk-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.hk-list{display:flex;flex-direction:column;gap:12px}.hk-card{background:var(--hk-surface);border:1px solid var(--hk-border);border-radius:var(--hk-radius);padding:20px;cursor:pointer;transition:box-shadow .2s,border-color .2s}.hk-card:hover{box-shadow:var(--hk-shadow-lg);border-color:var(--hk-primary)}.hk-card-title{font-size:16px;font-weight:600;color:var(--hk-text);margin-bottom:8px}.hk-card-meta{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.hk-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:20px;font-size:12px;font-weight:500;background:var(--hk-badge-bg);color:var(--hk-badge-text)}.hk-card-salary{font-size:14px;font-weight:600;color:var(--hk-text);margin-bottom:12px}.hk-card-footer{display:flex;align-items:center;justify-content:space-between;margin-top:12px}.hk-card-date{font-size:12px;color:var(--hk-text-muted)}.hk-btn{display:inline-flex;align-items:center;gap:6px;padding:8px 18px;border:none;border-radius:20px;font-size:13px;font-weight:600;font-family:var(--hk-font);cursor:pointer;transition:background .2s,transform .1s}.hk-btn:active{transform:scale(.97)}.hk-btn-primary{background:var(--hk-primary);color:#fff}.hk-btn-primary:hover{background:var(--hk-primary-hover)}.hk-btn-outline{background:transparent;color:var(--hk-primary);border:1px solid var(--hk-primary)}.hk-btn-outline:hover{background:var(--hk-badge-bg)}.hk-card--list{display:flex;align-items:center;gap:16px}.hk-card--list .hk-card-body{flex:1}.hk-card--list .hk-card-actions{flex-shrink:0}.hk-detail{background:var(--hk-surface);border:1px solid var(--hk-border);border-radius:var(--hk-radius);padding:32px}.hk-detail-back{display:inline-flex;align-items:center;gap:6px;font-size:14px;color:var(--hk-primary);cursor:pointer;border:none;background:none;font-family:var(--hk-font);font-weight:500;margin-bottom:20px;padding:0}.hk-detail-back:hover{text-decoration:underline}.hk-detail-title{font-size:24px;font-weight:700;color:var(--hk-text);margin-bottom:12px}.hk-detail-meta{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:20px}.hk-detail-salary{font-size:18px;font-weight:600;color:var(--hk-text);margin-bottom:20px}.hk-detail-description{font-size:15px;line-height:1.7;color:var(--hk-text-secondary);margin-bottom:24px;white-space:pre-wrap}.hk-detail-apply{margin-top:24px}.hk-modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:99999;padding:24px}.hk-modal{background:var(--hk-surface);border-radius:var(--hk-radius);width:100%;max-width:700px;max-height:90vh;overflow-y:auto;position:relative}.hk-modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid var(--hk-border)}.hk-modal-title{font-size:16px;font-weight:600;color:var(--hk-text)}.hk-modal-close{width:32px;height:32px;border-radius:50%;border:none;background:var(--hk-bg);color:var(--hk-text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;line-height:1;font-family:var(--hk-font);transition:background .2s}.hk-modal-close:hover{background:var(--hk-border)}.hk-modal-body{padding:24px;min-height:400px}.hk-modal-loading{display:flex;align-items:center;justify-content:center;padding:48px;color:var(--hk-text-muted);font-size:14px}.hk-empty{text-align:center;padding:48px 24px}.hk-empty-icon{font-size:48px;margin-bottom:16px;opacity:.4}.hk-empty-title{font-size:18px;font-weight:600;color:var(--hk-text);margin-bottom:8px}.hk-empty-text{font-size:14px;color:var(--hk-text-secondary)}.hk-loading{display:flex;align-items:center;justify-content:center;padding:48px}.hk-spinner{width:32px;height:32px;border:3px solid var(--hk-border);border-top-color:var(--hk-primary);border-radius:50%;animation:hk-spin .7s linear infinite}@keyframes hk-spin{to{transform:rotate(360deg)}}.hk-error{text-align:center;padding:32px;color:#dc2626;font-size:14px}@media (max-width: 640px){.hk-jobs-root{padding:16px}.hk-grid{grid-template-columns:1fr}.hk-filters{flex-direction:column}.hk-search{min-width:0}.hk-select{width:100%}.hk-card--list{flex-direction:column;align-items:flex-start}.hk-detail{padding:20px}.hk-detail-title{font-size:20px}.hk-modal-overlay{padding:12px}.hk-modal{max-height:95vh}}"),this.shadowRoot.adoptedStyleSheets=[r],"dark"===e.theme&&this.shadowRoot.host.classList.add("hk-dark"),e.primaryColor&&this.shadowRoot.host.style.setProperty("--hk-primary",e.primaryColor),this.root=document.createElement("div"),this.root.className="hk-jobs-root",this.shadowRoot.appendChild(this.root),this.render();try{const a=await async function(e){const a=t(),r=await fetch(`${a}/v1/public/jobs/${e}`);if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}(e.companyId);this.state.company=a.company,this.state.jobs=a.jobs,this.state.filteredJobs=a.jobs,this.state.loading=!1,!e.primaryColor&&a.company.primaryColor&&this.shadowRoot.host.style.setProperty("--hk-primary",a.company.primaryColor),function(t,e){const a=document.querySelector("script[data-hirekit-jobs-jsonld]");if(a&&a.remove(),0===t.length)return;const r={"@context":"https://schema.org","@graph":t.map(t=>{const a={"@type":"JobPosting",title:t.title,datePosted:t.createdAt.split("T")[0],hiringOrganization:{"@type":"Organization",name:e.name,...e.logo?{logo:e.logo}:{}}};if(t.description&&(a.description=t.description),t.location&&(a.jobLocation={"@type":"Place",address:{"@type":"PostalAddress",addressLocality:t.location}}),t.type){const e={"full-time":"FULL_TIME","part-time":"PART_TIME",contract:"CONTRACTOR",internship:"INTERN",freelance:"CONTRACTOR"};a.employmentType=e[t.type]||t.type.toUpperCase()}return(t.salaryMin||t.salaryMax)&&(a.baseSalary={"@type":"MonetaryAmount",currency:t.salaryCurrency||"EUR",value:{"@type":"QuantitativeValue",...t.salaryMin&&t.salaryMax?{minValue:t.salaryMin,maxValue:t.salaryMax,unitText:"YEAR"}:t.salaryMin?{value:t.salaryMin,unitText:"YEAR"}:{value:t.salaryMax,unitText:"YEAR"}}}),a})},o=document.createElement("script");o.type="application/ld+json",o.setAttribute("data-hirekit-jobs-jsonld",""),o.textContent=JSON.stringify(r),document.head.appendChild(o)}(a.jobs,a.company),this.render()}catch(o){this.state.loading=!1,this.state.error="Failed to load job listings. Please try again later.",this.render()}}render(){if(!this.root||!this.config)return;if(this.root.innerHTML="",this.state.loading)return void(this.root.innerHTML='<div class="hk-loading"><div class="hk-spinner"></div></div>');if(this.state.error)return void(this.root.innerHTML=`<div class="hk-error">${this.state.error}</div>`);if(this.state.company){const t=document.createElement("div");t.className="hk-header",this.state.company.logo&&(t.innerHTML+=`<img class="hk-header-logo" src="${this.state.company.logo}" alt="${this.state.company.name}" />`),t.innerHTML+=`<span class="hk-header-title">Careers at ${this.state.company.name}</span>`,t.innerHTML+=`<span class="hk-header-count">${this.state.filteredJobs.length} open position${1!==this.state.filteredJobs.length?"s":""}</span>`,this.root.appendChild(t)}if("detail"===this.state.view&&this.state.selectedJob)return void this.root.appendChild(i(this.state.selectedJob,()=>{this.state.view="list",this.state.selectedJob=null,this.render()},t=>this.handleApply(t)));const t=!1!==this.config.showFilters&&this.state.jobs.length>3,r=!1!==this.config.showSearch;if((t||r)&&this.root.appendChild(function(t,r,o,i){const n=document.createElement("div");if(n.className="hk-filters",o){const t=document.createElement("input");t.type="text",t.className="hk-search",t.placeholder="Search jobs...",t.value=r.search,t.addEventListener("input",()=>{i({...r,search:t.value})}),n.appendChild(t)}const s=e(t,"department");s.length>1&&n.appendChild(a("All Departments",s,r.department,t=>i({...r,department:t})));const d=e(t,"location");d.length>1&&n.appendChild(a("All Locations",d,r.location,t=>i({...r,location:t})));const l=e(t,"type");return l.length>1&&n.appendChild(a("All Types",l,r.type,t=>i({...r,type:t}))),n}(this.state.jobs,this.state.filters,r,t=>this.handleFilterChange(t))),0===this.state.filteredJobs.length){const t=!!(this.state.filters.search||this.state.filters.department||this.state.filters.location||this.state.filters.type);this.root.appendChild(function(t){const e=document.createElement("div");return e.className="hk-empty",e.innerHTML=t?'\n      <div class="hk-empty-icon">üîç</div>\n      <div class="hk-empty-title">No matching jobs</div>\n      <div class="hk-empty-text">Try adjusting your search or filters.</div>\n    ':'\n      <div class="hk-empty-icon">üíº</div>\n      <div class="hk-empty-title">No open positions</div>\n      <div class="hk-empty-text">Check back later for new opportunities.</div>\n    ',e}(t))}else{const t=this.config.layout||"cards";this.root.appendChild(function(t,e,a,r){const i=document.createElement("div");i.className="list"===e?"hk-list":"hk-grid";for(const n of t)i.appendChild(o(n,e,a,r));return i}(this.state.filteredJobs,t,t=>{this.state.view="detail",this.state.selectedJob=t,this.render()},t=>this.handleApply(t)))}}handleFilterChange(t){this.state.filters=t,this.state.filteredJobs=function(t,e){return t.filter(t=>{if(e.search){const a=e.search.toLowerCase();if(![t.title,t.department,t.location,t.type,t.description].filter(Boolean).join(" ").toLowerCase().includes(a))return!1}return!(e.department&&t.department!==e.department||e.location&&t.location!==e.location||e.type&&t.type!==e.type)})}(this.state.jobs,t),this.render()}handleApply(t){this.shadowRoot&&this.config&&n(t,this.config.companyId,this.shadowRoot)}destroy(){const t=document.querySelector("script[data-hirekit-jobs-jsonld]");t&&t.remove(),this.root=null,this.shadowRoot=null,this.config=null}}"undefined"!=typeof window&&(window.HireKitJobs=new d)}();
